<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Welcome to DGYM-HOME</title>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Archivo&display=swap");
    </style>
    <!-- CSS only -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="../../components/navbar.css" />
    <!-- JavaScript Bundle with Popper -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://code.jquery.com/jquery-3.6.0.min.js"
      integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
      crossorigin="anonymous"
    ></script>
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

    <script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-storage.js"></script>
    <!-- firebase CDN -->
    <script src="../../config/config.js"></script>
    
  <body
    class="d-flex flex-column min-vh-100"
    style="
      font-family: Archivo, sans-serif;
      background-color: rgba(0, 0, 0, 0.945);
    "
  >
  <!---------------------------------- navbar  Start------------------------------->
    <nav class="navbar navbar-expand-lg navbar-light navbar-custom">
      <div class="container-fluid">
        <a class="navbar-brand ms-4 text-light" href="../../../index.html"
          ><img src="../../img/logo-white.png" alt="ì§ë¡œê³ " width="100"
        /></a>
        <button
          class="navbar-toggler custom-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul
            class="navbar-nav me-auto mb-2 mb-lg-0 container-fluid justify-content-center ms-4 mt-3"
            style="font-size: 1.2rem"
          >
            <li class="nav-item me-5">
              <a class="nav-link text-light" href="../aboutus/aboutus.html"
                >About Us</a
              >
            </li>
            <li class="nav-item me-5">
              <a class="nav-link text-light" href="../program/program.html"
                >Program</a
              >
            </li>
            <li class="nav-item me-5">
              <a class="nav-link text-light" href="../center/center.html"
                >Center</a
              >
            </li>
            <li class="nav-item me-5">
              <a class="nav-link text-light" href="../contact/contact.html"
                >Contact</a
              >
            </li>
              <li class="nav-item me-5">
              <a
                class="nav-link text-light"
                href="../notice/notice.html?page=1"
                >Notice</a
              >
            </li>
          </ul>
          <div class="d-flex mt-3 btn-group" style="width: 12rem">
            <a href="../../../login.html">
              <button
                type="button"
                class="btn btn-primary btn-sm me-1"
                id="login"
              >
                login
              </button>
            </a>
          </div>
        </div>
      </div>
    </nav>
    <!---------------------------------- navbar ------------------------------->
    <body>
      <div class="container-fluid d-flex flex-row">
    <!----------------------------------- sidebar start -------------------------------->
        <aside class="navbar navbar-expand-md navbar-light d-flex flex-column mt-5 ms-3">
          <ul class="navbar-nav flex-column text-center">
            <li class="mb-2">
              <a class="nav-link text-info" href="./membership.html">Membership</a>
            </li>
            <li class="mb-2">
              <a class="nav-link text-light" href="./inbody.html">Inbody</a>
            </li>
          </ul>            
        </aside>
    <!----------------------------------- sidebar end --------------------------------->
    <!----------------------------------- main start ---------------------------------->

        <main class="ps-0 ps-md-5 flex-grow-1">
          <div class="container col-md-8 col-lg-10 col-sm-10 bg-black box-shadow mt-md-5">
            <div class="col-12 text-white-50 d-flex justify-content-center mb-md-5">
              <h3>ë§ˆì´í˜ì´ì§€</h3>
            </div>
            <div class="col-md-12 mx-auto pt-5 d-inline-block d-flex justify-content-center">
              <img src="../../img/default_img.png" alt="í”„ë¡œí•„ì‚¬ì§„" class="img" width="250" height="250">
              <div class="text-white-50 col-4 d-inline-block ms-md-5 mt-md-5">
                <p id="name"></p>
                <p id="phone"></p>
                <p id="email"></p>
                <p></p>
                <p class="float-start"></p> 
                <button class="modybtn btn-outline-dark btn-sm ms-sm-3 text-white btn-success"
                id="mem_modi"
                data-bs-toggle="modal"
                data-bs-target="#staticBackdrop">ë‚´ ì •ë³´ ìˆ˜ì •</button>
                <button class="change_pw btn-outline-dark btn-sm ms-sm-3 text-white btn-info"
                data-bs-toggle="modal"
                data-bs-target="#staticBackdrop2">ë¹„ë°€ë²ˆí˜¸ ë³€ê²½</button>
              </div>
              <!-- <div class="d-flex">
                <input type="file">
              </div> -->
              </div>
            </div>
          </main>
        </div>
        <!---------------------------------- main end ------------------------------------->
    
        <!------------------------------ Modal Start _ ìˆ˜ì •í•˜ê¸° ------------------------------------->
        <div
        class="modal fade container-fluid"
        id="staticBackdrop"
        data-bs-backdrop="static"
        data-bs-keyboard="false"
        tabindex="-1"
        aria-labelledby="staticBackdropLabel"
        aria-hidden="true"
        role="dialog"
      >
        <div class="modal-dialog" role="document">
          <!--------------------------------- Modal content --------------------------------->
          <div class="modal-content">
            <div class="modal-header">
              <h4 class="modal-title" id="staticBackdropLabel">
                ğŸ’œ íšŒì› ì •ë³´ ìˆ˜ì • ğŸ’œ
              </h4>
            </div>
            <!--------------------------------- Modal body --------------------------------->
            <div class="modal-body">
              <div class="card-body">
                <div class="col-md-7 d-flex mb-lg-2">
                  <label class="form-label" for="name" style="width: 65%"
                    >ì´ë¦„</label
                  >
                  <input
                    class="form-control form-control-sm"
                    id="mem_name"
                    type="text"
                  />
                </div>
                <!-- <div class="col-md-7 d-flex mb-lg-2">
                  <label class="form-label" for="age" style="width: 65%"
                    >ë¹„ë°€ë²ˆí˜¸</label
                  >
                  <input
                    class="form-control form-control-sm"
                    id="age"
                    type="text"
                  />
                </div> -->
    
                <div class="col-md-7 d-flex mb-lg-2">
                  <label class="form-label" for="working-day" style="width: 65%"
                    >í•¸ë“œí°ë²ˆí˜¸</label
                  >
                  <input
                    class="form-control form-control-sm"
                    id="mem_hp"
                    type="text"
                  />
                </div>
                <div class="col-md-7 d-flex mb-lg-2">
                  <label
                    class="form-label"
                    for="working-time"
                    style="width: 65%"
                    >ìƒë…„ì›”ì¼</label
                  >
                  <input
                    class="form-control form-control-sm"
                    id="mem_birth"
                    type="text"
                  />
                </div>
                
                <div class="col-md-12 d-flex mb-lg-3">
                  <label class="form-label" for="student" style="width: 35%"
                    ><b>í”„ë¡œí•„ ì‚¬ì§„ ì²¨ë¶€ğŸ™ğŸ»â€â™€ï¸</b></label
                  >
                  <input type="file" id="mem_img"class="col-md-6" />
                </div>
              </div>
            </div>
            <!--------------------------------- Modal footer --------------------------------->
            <div class="modal-footer d-flex">
              <button
              type="button"
              class="btn btn-danger justify-content-start"
              data-bs-dismiss="modal"
              >
              íšŒì›íƒˆí‡´
            </button>
            
            <button
              type="submit"
              class="btn btn-default border-dark"
              data-bs-dismiss="modal"
              id="mem_save"
            >
              ì €ì¥í•˜ê¸°
            </button>
              <button
                type="button"
                class="btn btn-secondary"
                data-bs-dismiss="modal"
              >
                ë‹«ê¸°
              </button>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!------------------------------ Modal End _ ìˆ˜ì •í•˜ê¸° ------------------------------------>

              <!------------------------------ Modal Start _ ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ ------------------------------------->
              <div
              class="modal fade container-fluid"
              id="staticBackdrop2"
              data-bs-backdrop="static"
              data-bs-keyboard="false"
              tabindex="-1"
              aria-labelledby="staticBackdropLabel"
              aria-hidden="true"
              role="dialog"
              >
              <div class="modal-dialog" role="document">
                <!--------------------------------- Modal content --------------------------------->
                <div class="modal-content">
                  <div class="modal-header">
                    <h4 class="modal-title" id="staticBackdropLabel">
                      ğŸ’› ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ ğŸ’›
                    </h4>
                  </div>
                  <!--------------------------------- Modal body --------------------------------->
                  <div class="modal-body">
                    <div class="card-body">
                      <div class="col-md-9 d-flex mb-lg-2">
                        <label class="form-label" for="name" style="width: 65%"
                          ><b>í˜„ì¬ ë¹„ë°€ë²ˆí˜¸</b></label
                        >
                        <input
                          class="form-control form-control-sm"
                          id="mem_name"
                          type="text"
                        />
                      </div>
                      <div class="col-md-9 d-flex mb-lg-2">
                        <label class="form-label" for="age" style="width: 65%"
                          ><b>ë³€ê²½í•  ë¹„ë°€ë²ˆí˜¸</b></label
                        >
                        <input
                          class="form-control form-control-sm"
                          id="age"
                          type="text"
                        />
                      </div>
          
                      <div class="col-md-9 d-flex mb-lg-2">
                        <label class="form-label" for="working-day" style="width: 65%"
                          ><b>ë¹„ë°€ë²ˆí˜¸ í™•ì¸</b></label
                        >
                        <input
                          class="form-control form-control-sm"
                          id="mem_hp"
                          type="text"
                        />
                      </div>
                    </div>
                  </div>
                  <!--------------------------------- Modal footer --------------------------------->
                  <div class="modal-footer d-flex">
                    <!-- <div class="col-md-7 d-flex mb-lg-2"> -->
                  
                  <button
                    type="submit"
                    class="btn btn-default border-dark"
                    data-bs-dismiss="modal"
                    id="mem_save"
                  >
                    ì €ì¥í•˜ê¸°
                  </button>
                    <button
                      type="button"
                      class="btn btn-secondary"
                      data-bs-dismiss="modal"
                    >
                      ë‹«ê¸°
                    </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <!------------------------------ Modal End _ ìˆ˜ì •í•˜ê¸° ------------------------------------>
            <!----------------------------------  Footer start  ------------------------------->
              <footer class="footer mt-auto py-3">
                <div class="container d-md-flex flex-column align-items-center">
                  <span class="text-muted" style="font-size: 0.1rem">
                  (ì£¼)D-GYM ã…£ ëŒ€í‘œ: ê¹€ë¯¼ì¤€ ã…£ ì£¼ì†Œ: ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬ í…Œí—¤ë€ë¡œ 14ê¸¸ 6
                  5ì¸µ~7ì¸µ ã…£ ë“±ë¡ë²ˆí˜¸ 123-12-123456 ã…£ info@dgym.co.kr ã…£ ì „í™”ë²ˆí˜¸
                  02-123-1234</span>
                  <span class="text-muted" style="font-size: 0.1rem">
                  â“’2022 Supplies.Inc. All rights reserved.</span>
                </div>
              </footer>
            <!--------------------------------- Footer End ----------------------------------->
            <script>
              window.onload = loadInfo;
        // ë¡œê·¸ì¸ ë° ë¡œê·¸ì•„ì›ƒ ì²˜ë¦¬í•˜ë ¤ë©´ í•­ìƒ onAuthStateChanged()ì‚¬ìš©í•˜ê¸°
              function loadInfo() {
                firebase.auth().onAuthStateChanged((user) => {
                if (user) {
                  const login = document.querySelector("#login");
                  login.textContent = "logout";
                  login.id = "logout";
                  login.addEventListener("click", logout);
                  login.classList.add("btn-danger");
                  // console.log(user);
                  // ë§ˆì´í˜ì´ì§€
                const div = document.querySelector(".btn-group");
                const mypage = document.createElement("a");
                mypage.setAttribute("href", "./views/mypage/membership.html");
                mypage.innerHTML = `
                                  <button
                                    type="button"
                                    class="btn btn-secondary btn-sm"
                                    id="mypage"
                                  >${user.displayName}ë‹˜
                                  </button>
                                  `;
                div.appendChild(mypage);
                document.querySelector(
                  "#name"
                ).innerHTML = `ì´ë¦„ : ${user.displayName}`;
                document.querySelector(
                  "#email"
                ).innerHTML = `ì´ë©”ì¼ : ${user.email}`;

                const db = firebase.firestore();
                db.collection("user")
                  .doc(user.uid)
                  .get()
                  .then((snapshot) => {
                    document.querySelector("#phone").innerHTML = `íœ´ëŒ€í° : ${
                      snapshot.data().mem_hp
                    }`;
                  });
                } 
              });
            }
        
                function logout() {
                  firebase
                    .auth()
                    .signOut()
                    .then(() => {
                      alert("ë¡œê·¸ì•„ì›ƒ ì²˜ë¦¬ ë˜ì—ˆìŠµë‹ˆë‹¤");
                      window.location.replace("../../../index.html");
                    })
                    .catch((error) => {
                      console.log(error);
                    });
                }
            </script>
            <script src="./membership.js"></script>
          </body>
        </html>